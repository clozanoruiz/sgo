language: r

r:
  - oldrel
  - release
  - devel

# blocklist
branches:
  except:
    - develop

# safelist
branches:
  only:
    - master
    - /^v\d+\.\d+(\.\d+)?(-\S*)?$/ # matches versioning... including tags

cache:
  - packages
  - ccache

latex: false

pandoc: false

dist: xenial
addons:
  apt:
    sources:
      - ppa:ubuntugis/ubuntugis-unstable
    packages:
      - libudunits2-dev
      - libgeos-dev
      - libgdal-dev

r_packages:
  - sf
  - covr

after_success:
  - Rscript -e 'library(covr); codecov()'
